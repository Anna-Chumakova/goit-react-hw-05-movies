"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[796],{796:function(e,r,t){t.r(r),t.d(r,{default:function(){return Z}});var n=t(861),a=t(885),c=t(757),u=t.n(c),i=t(731),o=t(791),s=t(506),l=t(639);function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach((function(r){p(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var v="Searchbar_searchFormInput__HUC+4",d=t(184),m=function(e){var r=e.id,t=e.value,n=e.name,a=e.handleChange,c=e.type,u=e.placeholder,i=e.required,o=e.label;return(0,d.jsxs)("div",{children:[o&&(0,d.jsx)("label",{htmlFor:r,children:o}),(0,d.jsx)("input",{id:r,type:c,value:t,name:n,onChange:a,className:v,placeholder:u,required:i})]})};m.defaultProps={type:"text",required:!1};var b="SearchForm_searchForm__5c7ji",_="SearchForm_searchFormButton__I9Qj4",y="SearchForm_buttonLabel__Aea6l",j=function(e){var r=e.onSubmit,t=(0,o.useState)(""),n=(0,a.Z)(t,2),c=n[0],u=n[1],i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,r){return e+((r&=63)<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r>62?"-":"_")}),"")}(),s=function(e){e.preventDefault(),r({search:c}),l()},l=function(){u("")};return(0,d.jsxs)("form",{className:b,onSubmit:s,children:[(0,d.jsx)("button",{type:"submit",className:_,onClick:s,children:(0,d.jsx)("span",{className:y,children:"Search"})}),(0,d.jsx)(m,h({value:c,id:i,handleChange:function(e){var r=e.target.value;u(r)}},{type:"text",name:"search",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",required:!0}))]})},x="SearchMovieList_listMovie__k7WOE",g="SearchMovieList_linkItem__DSFTt",w="SearchMovieList_linkMovie__-R3Wi",k="SearchMovieList_active__h7eqc",S="SearchMovieList_container__Puo9z",O=function(e){var r=e.item;if(0===r.total_pages)return(0,d.jsx)("p",{children:"No Movies found"});var t=function(e){return e.isActive?"".concat(w," ").concat(k):"".concat(w)},n=r.results.map((function(e){var r=e.id,n=e.title,a=e.name;return(0,d.jsx)("li",{className:g,children:(0,d.jsx)(i.OL,{to:"/movie/".concat(r),className:t,children:n||a})},r)}));return(0,d.jsx)("div",{className:S,children:(0,d.jsx)("ul",{className:x,children:n})})},Z=function(){var e=(0,o.useState)(null),r=(0,a.Z)(e,2),t=r[0],c=r[1],p=(0,o.useState)(!1),f=(0,a.Z)(p,2),h=f[0],v=f[1],m=(0,o.useState)(null),b=(0,a.Z)(m,2),_=b[0],y=b[1],x=(0,i.lr)(),g=(0,a.Z)(x,2),w=g[0],k=g[1],S=w.get("searchQuery");(0,o.useEffect)((function(){var e=function(){var e=(0,n.Z)(u().mark((function e(){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),y(null),e.next=5,(0,s.Y_)(S);case 5:r=e.sent,c(r.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),y(e.t0);case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();S&&e()}),[S]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(j,{onSubmit:function(e){var r=e.search;if(""===r)return alert("Please enter text and try again.");k({searchQuery:r})}}),h&&(0,d.jsx)(l.Z,{}),t&&(0,d.jsx)(O,{item:t}),_&&(0,d.jsx)("p",{children:"Please try later..."})]})}},506:function(e,r,t){t.d(r,{Bc:function(){return h},Hj:function(){return v},QX:function(){return f},Y_:function(){return m},Yc:function(){return d}});var n=t(861),a=t(757),c=t.n(a),u=t(44),i=t(7),o=t.n(i),s="https://api.themoviedb.org/3",l="/movie/",p="1026e0f194f2bc4cc4b6e148bd5c040a",f=function(){var e=(0,n.Z)(c().mark((function e(){var r,t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.Z.create({baseURL:"".concat(s).concat("/trending/all/day"),params:{api_key:p}}),e.next=3,r.get();case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,n.Z)(c().mark((function e(r){var t,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.Z.create({baseURL:"".concat(s).concat(l).concat(r),params:{api_key:p}}),e.next=3,t.get();case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),v=function(){var e=(0,n.Z)(c().mark((function e(r){var t,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.Z.create({baseURL:"".concat(s).concat(l).concat(r).concat("/credits"),params:{api_key:p}}),e.next=3,t.get();case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)(c().mark((function e(r){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.Z.create({baseURL:"".concat(s).concat(l).concat(r).concat("/reviews"),params:{api_key:p}}),n=t.get(),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),m=function(){var e=(0,n.Z)(c().mark((function e(r){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.Z.create({baseURL:"".concat(s).concat("/search/movie"),params:{api_key:p,query:r}}),n=t.get(),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();h.propTypes={id:o().number.isRequired,searchQuery:o().string}},639:function(e,r,t){t.d(r,{Z:function(){return u}});var n="Loader_backdrop__gjec2",a="Loader_loader__+lRPl",c=t(184);function u(){return(0,c.jsx)("div",{className:n,children:(0,c.jsx)("div",{className:a})})}}}]);
//# sourceMappingURL=796.8cb43434.chunk.js.map